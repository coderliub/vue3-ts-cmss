"use strict";(self["webpackChunkvue3_ts_cmss"]=self["webpackChunkvue3_ts_cmss"]||[]).push([[130],{27909:function(e,l,t){var a=t(72359);l["Z"]=a.Z},54337:function(e,l,t){t.d(l,{Y:function(){return n}});var a=t(44870);function n(){const e=(0,a.iH)(),l=()=>{e.value?.getPageData()},t=l=>{console.log(l),e.value?.getPageData(l)};return[e,l,t]}},72359:function(e,l,t){t.d(l,{Z:function(){return b}});var a=t(48179),n=(t(86809),t(41015)),o=(t(28474),t(73396));const r=e=>((0,o.dD)("data-v-6e4a9716"),e=e(),(0,o.Cn)(),e),i={class:"page-search"},d=r((()=>(0,o._)("h1",{class:"header"},"高级检索",-1))),s={class:"handle-btns"},c=(0,o.Uk)("重置"),p=(0,o.Uk)("搜索");function m(e,l,t,r,m,u){const f=(0,o.up)("Refresh"),h=n.gn,C=a.mi,g=(0,o.up)("Search"),b=(0,o.up)("lb-form");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(b,(0,o.dG)(e.searchFormConfig,{modelValue:e.formData,"onUpdate:modelValue":l[0]||(l[0]=l=>e.updateFormData(l)),ref:"formRef"}),{header:(0,o.w5)((()=>[d])),footer:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o.Wm)(C,{onClick:e.handleResetClick},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1}),c])),_:1},8,["onClick"]),(0,o.Wm)(C,{type:"primary",onClick:e.handleQueryClick},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1}),p])),_:1},8,["onClick"])])])),_:1},16,["modelValue"])])}var u=t(44870),f=t(54249),h=(0,o.aZ)({props:{searchFormConfig:{type:Object,required:!0}},components:{LbForm:f.Z},eimts:["resetBtnClick","queryBtnClick"],setup(e,{emit:l}){const t=e.searchFormConfig?.formItems??[],a={};for(const s of t)a[s.field]="";const n=(0,u.iH)({...a}),o=(0,u.iH)(),r=()=>{for(const e in a)n.value[e]=a[e];o.value?.resetFormData(),l("resetBtnClick")},i=()=>{l("queryBtnClick",n.value)},d=e=>{if(JSON.stringify(n.value)!==JSON.stringify(e))for(const l in e)n.value[l]=e[l]};return{formData:n,formRef:o,handleResetClick:r,updateFormData:d,handleQueryClick:i}}}),C=t(40089);const g=(0,C.Z)(h,[["render",m],["__scopeId","data-v-6e4a9716"]]);var b=g},51130:function(e,l,t){t.r(l),t.d(l,{default:function(){return v}});var a=t(86644),n=t(70740),o=t(72359),r=t(73396);const i={class:"user"};function d(e,l,t,d,s,c){const p=o.Z,m=n.Z,u=a.Z;return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(p,{searchFormConfig:e.searchFormConfig,onResetBtnClick:e.handleResetClick,onQueryBtnClick:e.handleQueryClick},null,8,["searchFormConfig","onResetBtnClick","onQueryBtnClick"]),(0,r.Wm)(m,{contentTableConfig:e.contentTableConfig,pageName:"users",ref:"pageContentRef",onNewBtnClick:e.handleNewData,onUpdateBtnClick:e.handleUpdateData},null,8,["contentTableConfig","onNewBtnClick","onUpdateBtnClick"]),(0,r.Wm)(u,{modalConfig:e.modalConfigRef,pageName:"users",ref:"pageModalRef",modalFormConfig:e.modalFormConfig},null,8,["modalConfig","modalFormConfig"])])}var s=t(20065),c=t(27909),p=t(99039),m=t(25234);const u={formItems:[{field:"id",type:"input",label:"id",rules:[],placeholder:"请输入id"},{field:"name",type:"input",label:"用户名",rules:[],placeholder:"请输入用户名"},{field:"realname",type:"input",label:"真实姓名",rules:[],placeholder:"请输入真实姓名"},{field:"cellphone",type:"input",label:"手机号",rules:[],placeholder:"请输入手机号"},{field:"enable",type:"select",label:"用户状态",rules:[],placeholder:"请选择用户状态",options:[{title:"启用",value:1},{title:"禁用",value:0}]},{field:"createAt",type:"datepicker",label:"创建时间",rules:[],otherOptions:{startPlaceholder:"开始时间",endPlaceholder:"结束时间",type:"daterange"}}],labelWidth:"120px",itemStyle:{padding:"10px 20px"}},f={title:"用户列表",newBtnTitle:"新建用户",propList:[{prop:"name",label:"用户名",minWidth:"100"},{prop:"realname",label:"真实姓名",minWidth:"100"},{prop:"cellphone",label:"手机号码",minWidth:"120"},{prop:"enable",label:"状态",minWidth:"100",slotName:"status"},{prop:"createAt",label:"创建时间",minWidth:"180",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"180",slotName:"updateAt"},{label:"操作",minWidth:"140",slotName:"handler"}],showIndexColumn:!0,showSelectColumn:!0},h={title:"新建用户",formItems:[{field:"name",type:"input",label:"用户名",rules:[],placeholder:"请输入用户名"},{field:"realname",type:"input",label:"真实姓名",rules:[],placeholder:"请输入真实姓名"},{field:"password",type:"password",label:"密码",rules:[],placeholder:"请输入密码",isHidden:!0},{field:"cellphone",type:"input",label:"手机号",rules:[],placeholder:"请输入手机号"},{field:"departmentId",type:"select",label:"选择部门",placeholder:"请选择部门",options:[]},{field:"roleId",type:"select",label:"选择角色",placeholder:"请选择角色",options:[]}],colLayout:{span:24},itemStyle:{}};var C=t(54337),g=t(50558),b=(0,r.aZ)({name:"users",components:{PageSearch:c.Z,PageContent:p.Z,PageModal:m.Z},setup(){const[e,l,t]=(0,C.Y)(),a=()=>{const e=h.formItems.find((e=>"password"===e.field));e.isHidden=!1},n=()=>{const e=h.formItems.find((e=>"password"===e.field));e.isHidden=!0},o=(0,s.oR)(),i=(0,r.Fl)((()=>{const e=h.formItems.find((e=>"departmentId"===e.field));e.options=o.state.entireDepartment.map((e=>({title:e.name,value:e.id})));const l=h.formItems.find((e=>"roleId"===e.field));return l.options=o.state.entireRole.map((e=>({title:e.name,value:e.id}))),h})),[d,c,p,m]=(0,g.S)(a,n);return{searchFormConfig:u,contentTableConfig:f,modalConfigRef:i,pageContentRef:e,handleResetClick:l,handleQueryClick:t,pageModalRef:d,modalFormConfig:c,handleNewData:p,handleUpdateData:m}}}),k=t(40089);const y=(0,k.Z)(b,[["render",d]]);var v=y}}]);
//# sourceMappingURL=130.6882d61e.js.map